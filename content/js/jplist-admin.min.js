/*
 jPList - jQuery Data Grid Controls 0.0.46 - http://jplist.com 
 Copyright 2014 Miriam Zusin. All rights reserved.
 For non-commercial, personal, or open source projects and applications, you may use jPList for free  http://www.binpress.com/license/read/id/2749/app/2085
 If your project generates any type of income, e.g. sells products, ads, services or just represents a commercial company, you should get a commercial license at http://www.binpress.com
*/
(function(){var b=function(a,e,b,c){var d;d=e.prev(".jp-preloader").show();jQuery.ajax({url:e.attr("data-url"),type:"POST",data:{action:b}}).done(function(a){c&&c.setValue(a)}).fail(function(){}).always(function(){d.hide()})},k=function(a){jQuery('[data-type="reset-js"]').on("click",function(){b(a,jQuery(this),"reset_js_panel",a.jsSettings)});jQuery('[data-type="reset-top-panel"]').on("click",function(){b(a,jQuery(this),"reset_top_panel",a.topPanel)});jQuery('[data-type="reset-bot-panel"]').on("click",
function(){b(a,jQuery(this),"reset_bot_panel",a.bottomPanel)});jQuery('[data-type="reset-template"]').on("click",function(){b(a,jQuery(this),"reset_template_panel",a.handlebarsTemplate)});jQuery('[data-type="save-changes"]').on("click",function(){var b="",f="",c="",d="",g=jQuery(this),h;a.jsSettings&&(b=a.jsSettings.getValue());a.topPanel&&(f=a.topPanel.getValue());a.bottomPanel&&(c=a.bottomPanel.getValue());a.handlebarsTemplate&&(d=a.handlebarsTemplate.getValue());h=g.next(".jp-preloader").show();
jQuery.ajax({url:g.attr("data-url"),type:"POST",data:{js:b,top:f,bot:c,template:d,action:"save_changes"}}).done(function(a){}).fail(function(){}).always(function(){h.hide()})})};jQuery(document).ready(function(){var a={topPanel:null,bottomPanel:null,jsSettings:null,handlebarsTemplate:null};0<jQuery("#jplist-admin-page").length&&(window.CodeMirror&&(a.jsSettings=window.CodeMirror(document.getElementById("js-settings-bar-ta"),{mode:"text/typescript",extraKeys:{"Ctrl-Space":"autocomplete"},value:jQuery("#js-settings-bar-ta-content").html(),
lineNumbers:!0,lineWrapping:!0}),a.topPanel=window.CodeMirror(document.getElementById("top-bar-ta"),{mode:"text/html",extraKeys:{"Ctrl-Space":"autocomplete"},value:jQuery("#top-bar-ta-content").html(),lineNumbers:!0,lineWrapping:!0}),a.bottomPanel=window.CodeMirror(document.getElementById("bottom-bar-ta"),{mode:"text/html",extraKeys:{"Ctrl-Space":"autocomplete"},value:jQuery("#bottom-bar-ta-content").html(),lineNumbers:!0,lineWrapping:!0}),a.handlebarsTemplate=window.CodeMirror(document.getElementById("handlebars-template-bar-ta"),
{mode:"text/html",extraKeys:{"Ctrl-Space":"autocomplete"},value:jQuery("#handlebars-template-bar-ta-content").html(),lineNumbers:!0,lineWrapping:!0})),k(a))})})();
